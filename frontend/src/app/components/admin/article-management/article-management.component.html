<div class="container">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h1>Gestion des Articles</h1>
    <button class="btn btn-primary" (click)="createArticle()">
      <i class="bi bi-plus-circle"></i> Nouvel article
    </button>
  </div>

  <div class="alert alert-danger" *ngIf="error">
    {{ error }}
  </div>

  <div class="table-responsive">
    <table class="table table-striped">
      <thead>
        <tr>
          <th>Image</th>
          <th>Nom</th>
          <th>Description</th>
          <th>Prix</th>
          <th>Catégorie</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let article of articles">
          <td>
            <img [src]="article.imageUrl" [alt]="article.name" class="img-thumbnail" style="max-width: 100px;">
          </td>
          <td>{{ article.name }}</td>
          <td>{{ article.description }}</td>
          <td>{{ article.price | currency:'EUR' }}</td>
          <td>{{ article.category }}</td>
          <td>
            <button class="btn btn-primary me-2" (click)="editArticle(article._id)">
              <i class="bi bi-pencil"></i> Modifier
            </button>
            <button class="btn btn-danger" (click)="deleteArticle(article._id)">
              <i class="bi bi-trash"></i> Supprimer
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="alert alert-info" *ngIf="articles.length === 0">
    Aucun article trouvé.
  </div>

  <!-- Pagination -->
  <nav *ngIf="totalPages > 1" aria-label="Pagination des articles" class="mt-4">
    <ul class="pagination justify-content-center">
      <li class="page-item" [class.disabled]="currentPage === 1">
        <button class="page-link" (click)="previousPage()">Précédent</button>
      </li>
      <li class="page-item disabled">
        <span class="page-link">
          Page {{ currentPage }} sur {{ totalPages }}
        </span>
      </li>
      <li class="page-item" [class.disabled]="currentPage === totalPages">
        <button class="page-link" (click)="nextPage()">Suivant</button>
      </li>
    </ul>
  </nav>
</div>
